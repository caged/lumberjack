var lt=Object.defineProperty;var ht=(e,t)=>{for(var n in t)lt(e,n,{get:t[n],enumerable:!0})};var q={};ht(q,{MODE:()=>ut,NODE_ENV:()=>ct,SSR:()=>dt});var ut="production",ct="production",dt=!1;function E(){}function $(e){return e()}function tt(){return Object.create(null)}function k(e){e.forEach($)}function _t(e){return typeof e=="function"}function M(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function mt(e){return Object.keys(e).length===0}function d(e,t){e.appendChild(t)}function X(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function v(e){return document.createElement(e)}function x(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e){return document.createTextNode(e)}function A(){return Y(" ")}function N(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function s(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e,t,n){t in e?e[t]=typeof e[t]=="boolean"&&n===""?!0:n:s(e,t,n)}function ft(e){return Array.from(e.childNodes)}function B(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function S(e,t,n){e.classList[n?"add":"remove"](t)}var H;function L(e){H=e}var T=[],et=[],j=[],nt=[],pt=Promise.resolve(),W=!1;function vt(){W||(W=!0,pt.then(it))}function z(e){j.push(e)}var G=new Set,D=0;function it(){let e=H;do{for(;D<T.length;){let t=T[D];D++,L(t),gt(t.$$)}for(L(null),T.length=0,D=0;et.length;)et.pop()();for(let t=0;t<j.length;t+=1){let n=j[t];G.has(n)||(G.add(n),n())}j.length=0}while(T.length);for(;nt.length;)nt.pop()();W=!1,G.clear(),L(e)}function gt(e){if(e.fragment!==null){e.update(),k(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(z)}}var V=new Set,bt;function R(e,t){e&&e.i&&(V.delete(e),e.i(t))}function J(e,t,n,o){if(e&&e.o){if(V.has(e))return;V.add(e),bt.c.push(()=>{V.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}function Q(e){e&&e.c()}function K(e,t,n,o){let{fragment:r,on_mount:f,on_destroy:h,after_update:c}=e.$$;r&&r.m(t,n),o||z(()=>{let u=f.map($).filter(_t);h?h.push(...u):k(u),e.$$.on_mount=[]}),c.forEach(z)}function O(e,t){let n=e.$$;n.fragment!==null&&(k(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function wt(e,t){e.$$.dirty[0]===-1&&(T.push(e),vt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function I(e,t,n,o,r,f,h,c=[-1]){let u=H;L(e);let i=e.$$={fragment:null,ctx:null,props:f,update:E,not_equal:r,bound:tt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:tt(),dirty:c,skip_bound:!1,root:t.target||u.$$.root};h&&h(i.root);let m=!1;if(i.ctx=n?n(e,t.props||{},(l,_,...a)=>{let w=a.length?a[0]:_;return i.ctx&&r(i.ctx[l],i.ctx[l]=w)&&(!i.skip_bound&&i.bound[l]&&i.bound[l](w),m&&wt(e,l)),_}):[],i.update(),m=!0,k(i.before_update),i.fragment=o?o(i.ctx):!1,t.target){if(t.hydrate){let l=ft(t.target);i.fragment&&i.fragment.l(l),l.forEach(y)}else i.fragment&&i.fragment.c();t.intro&&R(e.$$.fragment),K(e,t.target,t.anchor,t.customElement),it()}L(u)}var P=class{$destroy(){O(this,1),this.$destroy=E}$on(t,n){let o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{let r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!mt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var U=document.createElement("template");U.innerHTML=`
  <style>
    :host {
      display: inline-block;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      touch-action: none;
      user-select: none;
      cursor: pointer;
    }
    #rotator {
      display: block;
      --angle: 0rad;
      transform: rotate(var(--angle));
      will-change: transform;
      height: 100%;
      width: 100%;
    }
  </style>
  <div id="rotator" part="rotator"><slot></slot></div>`;window.ShadyCSS&&ShadyCSS.prepareTemplate(U,"input-knob");var F=2*Math.PI,st=class extends HTMLElement{constructor(){super();window.ShadyCSS&&ShadyCSS.styleElement(this),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(U.content.cloneNode(!0)),this._rotator=this.shadowRoot.getElementById("rotator"),this._fallback=null,this._drawState=this._drawState.bind(this),this._onMousedown=this._onMousedown.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseup=this._onMouseup.bind(this),this._onPointerdown=this._onPointerdown.bind(this),this._onPointermove=this._onPointermove.bind(this),this._onPointerup=this._onPointerup.bind(this),this._onTouchend=this._onTouchend.bind(this),this._onTouchmove=this._onTouchmove.bind(this),this._onTouchstart=this._onTouchstart.bind(this),this._rotationStart=this._rotationStart.bind(this),this._rotationChange=this._rotationChange.bind(this),this._rotationEnd=this._rotationEnd.bind(this)}static get observedAttributes(){return["value","scale","min","max"]}get value(){return this.hasAttribute("value")?this.getAttribute("value"):0}set value(t){this.setAttribute("value",parseFloat(t))}get scale(){return this.hasAttribute("scale")?this.getAttribute("scale"):1}set scale(t){this.setAttribute("scale",parseFloat(t))}get min(){return this.hasAttribute("min")?this.getAttribute("min"):null}set min(t){this.setAttribute("min",parseFloat(t))}get max(){return this.hasAttribute("max")?this.getAttribute("max"):null}set max(t){this.setAttribute("max",parseFloat(t))}connectedCallback(){if(!this._rotator.part){for(this._fallback=document.createElement("span"),this._fallback.style.setProperty("--angle",`${this._angle}rad`),this._fallback.style.setProperty("transform","rotate(var(--angle))"),this._fallback.style.setProperty("-webkit-tap-highlight-color","transparent");this.childNodes.length>0;)this._fallback.appendChild(this.childNodes[0]);this._fallback.classList.add("fallback"),this.classList.add("fallback"),this.append(this._fallback)}this._drawState(),"PointerEvent"in window?this.addEventListener("pointerdown",this._onPointerdown):(this.addEventListener("touchstart",this._onTouchstart),this.addEventListener("mousedown",this._onMousedown))}disconnectedCallback(){"PointerEvent"in window?this.removeEventListener("pointerdown",this._onPointerdown):(this.removeEventListener("touchstart",this._onTouchstart),this.removeEventListener("mousedown",this._onMousedown))}attributeChangedCallback(t,n,o){this._angle=F/this.scale*(this.value%this.scale),this._rotations=Math.floor(this.value/this.scale),this._drawState()}_drawState(){let t=this._rotator;this._fallback!==null&&(t=this._fallback),t.style.setProperty("--angle",`${this._angle}rad`)}_rotationStart(){window.oncontextmenu=()=>!1,this._centerX=this.offsetLeft-this.scrollLeft+this.clientLeft+this.offsetWidth/2,this._centerY=this.offsetTop-this.scrollTop+this.clientTop+this.offsetHeight/2,this._initialAngle=this._angle,this._attemptedAngle=this._angle,this._attemptedRotations=this._rotations,this._initialTouchAngle=Math.atan2(this._touchY-this._centerY,this._touchX-this._centerX);let t=new Event("knob-move-start",{bubbles:!0});this.dispatchEvent(t)}_rotationChange(){this._previousAttemptedAngle=this._attemptedAngle,this._attemptedAngle=this._initialAngle-this._initialTouchAngle+Math.atan2(this._touchY-this._centerY,this._touchX-this._centerX),this._attemptedAngle=(this._attemptedAngle+F)%F,this.max!==null&&this.min!==null&&(this._attemptedAngle<1.57&&this._previousAttemptedAngle>4.71?this._attemptedRotations++:this._previousAttemptedAngle<1.57&&this._attemptedAngle>4.71&&this._attemptedRotations--),this._attemptedValue=this._attemptedAngle/(F/this.scale)+this.scale*this._attemptedRotations,(this.min===null||this._attemptedValue>=this.min)&&(this.max===null||this._attemptedValue<=this.max)?(this._angle=this._attemptedAngle,this._rotations=this._attemptedRotations,this.value=this._attemptedValue):this._attemptedValue<this.min?this.value=this.min:this._attemptedValue>this.max&&(this.value=this.max);let t=new Event("knob-move-change",{bubbles:!0});this.dispatchEvent(t)}_rotationEnd(){window.oncontextmenu=null;let t=new Event("knob-move-end",{bubbles:!0});this.dispatchEvent(t)}_onPointerdown(t){t.preventDefault(),this._touchX=t.clientX,this._touchY=t.clientY,this._rotationStart(),this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup),this.addEventListener("pointercancel",this._onPointerup)}_onPointermove(t){t.preventDefault(),this._touchX=t.clientX,this._touchY=t.clientY,this._rotationChange()}_onPointerup(t){t.preventDefault(),this._rotationEnd(),this.releasePointerCapture(t.pointerId),this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),this.removeEventListener("pointercancel",this._onPointerup)}_onMousedown(t){this._touchX=t.clientX,this._touchY=t.clientY,this._rotationStart(),document.addEventListener("mousemove",this._onMousemove),document.addEventListener("mouseup",this._onMouseup)}_onMousemove(t){t.preventDefault(),this._touchX=t.clientX,this._touchY=t.clientY,this._rotationChange()}_onMouseup(t){t.preventDefault(),document.removeEventListener("mousemove",this._onMousemove),document.removeEventListener("mouseup",this._onMouseup),this._rotationEnd()}_onTouchstart(t){t.preventDefault(),this._touchX=t.changedTouches[0].clientX,this._touchY=t.changedTouches[0].clientY,this._rotationStart(),this.addEventListener("touchmove",this._onTouchmove),this.addEventListener("touchend",this._onTouchend),this.addEventListener("touchcancel",this._onTouchend)}_onTouchmove(t){t.preventDefault(),this._touchX=t.targetTouches[0].clientX,this._touchY=t.targetTouches[0].clientY,this._rotationChange()}_onTouchend(t){t.preventDefault(),this.removeEventListener("touchmove",this._onTouchmove),this.removeEventListener("touchend",this._onTouchend),this.removeEventListener("touchcancel",this._onTouchend),this._rotationEnd()}};customElements.define("input-knob",st);function Et(e){let t,n,o,r,f,h,c,u,i,m,l,_,a,w,C;return{c(){t=v("div"),n=v("div"),o=v("span"),r=Y(e[4]),f=A(),h=v("span"),c=Y(e[0]),u=A(),i=v("input-knob"),m=x("svg"),l=x("circle"),_=x("circle"),a=x("rect"),s(o,"class","svelte-124h628"),S(o,"moving",e[5]),s(h,"class","text-blue-400 svelte-124h628"),S(h,"moving",!e[5]),s(n,"class","text-center mb-1 text-xs"),s(l,"cx","50%"),s(l,"cy","50%"),s(l,"r","32"),s(l,"stroke","currentColor"),s(l,"stroke-width","12"),s(l,"stroke-dasharray","3 6"),s(l,"fill","none"),s(l,"shape-rendering","crispEdges"),s(_,"class","stroke-blue-300"),s(_,"cx","50%"),s(_,"cy","50%"),s(_,"r","44"),s(_,"stroke","currentColor"),s(_,"stroke-width","3"),s(_,"fill","none"),s(_,"shape-rendering","crispEdges"),s(a,"x","48"),s(a,"y","6"),s(a,"width","4"),s(a,"height","20"),s(a,"fill","white"),s(m,"viewBox","0 0 100 100"),s(m,"class","w-full h-full text-gray-600 text-opacity-50"),b(i,"scale",e[3]),b(i,"min",e[1]),b(i,"max",e[2]),b(i,"value",e[0]),b(i,"class","svelte-124h628"),s(t,"class","inline-block")},m(p,g){X(p,t,g),d(t,n),d(n,o),d(o,r),d(n,f),d(n,h),d(h,c),d(t,u),d(t,i),d(i,m),d(m,l),d(m,_),d(m,a),w||(C=[N(i,"knob-move-start",e[6]),N(i,"knob-move-end",e[7]),N(i,"knob-move-change",e[8])],w=!0)},p(p,[g]){g&16&&B(r,p[4]),g&32&&S(o,"moving",p[5]),g&1&&B(c,p[0]),g&32&&S(h,"moving",!p[5]),g&8&&b(i,"scale",p[3]),g&2&&b(i,"min",p[1]),g&4&&b(i,"max",p[2]),g&1&&b(i,"value",p[0])},i:E,o:E,d(p){p&&y(t),w=!1,k(C)}}}function kt(e,t,n){let{min:o=0}=t,{max:r=100}=t,{scale:f=r}=t,{label:h=""}=t,{value:c}=t,{format:u=a=>Math.round(a)}=t,i=!1,m=a=>(n(5,i=!0),!0),l=a=>(n(5,i=!1),!0),_=a=>{let w=a.target,C=w.value;w&&n(0,c=u(C))};return e.$$set=a=>{"min"in a&&n(1,o=a.min),"max"in a&&n(2,r=a.max),"scale"in a&&n(3,f=a.scale),"label"in a&&n(4,h=a.label),"value"in a&&n(0,c=a.value),"format"in a&&n(9,u=a.format)},[c,o,r,f,h,i,m,l,_,u]}var ot=class extends P{constructor(t){super();I(this,t,kt,Et,M,{min:1,max:2,scale:3,label:4,value:0,format:9})}},Z=ot;function yt(e){let t,n,o,r,f,h,c,u;return r=new Z({props:{value:12,label:"Pitch"}}),c=new Z({props:{value:25,max:50,label:"Cent"}}),{c(){t=v("div"),n=v("div"),o=v("div"),Q(r.$$.fragment),f=A(),h=v("div"),Q(c.$$.fragment),s(o,"class","w-12 h-12"),s(h,"class","w-12 h-12"),s(n,"class","grid grid-cols-2 gap-2 p-5 w-1/3")},m(i,m){X(i,t,m),d(t,n),d(n,o),K(r,o,null),d(n,f),d(n,h),K(c,h,null),u=!0},p:E,i(i){u||(R(r.$$.fragment,i),R(c.$$.fragment,i),u=!0)},o(i){J(r.$$.fragment,i),J(c.$$.fragment,i),u=!1},d(i){i&&y(t),O(r),O(c)}}}var at=class extends P{constructor(t){super();I(this,t,null,yt,M,{})}},rt=at;import.meta.env=q;var xt=new rt({target:document.body}),At=xt;export{At as default};
//# sourceMappingURL=index.js.map
